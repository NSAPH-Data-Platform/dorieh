Utility to generate test queries
================================

Runs SQL script(s) that tests that the content of the database has not changed. 
The scripts are presumed to be generated by [create_test](create_test) Python module, 
but can be also written manually or generated by other tools as long as the query produces
a string column named "<u>**passed**</u>" that contains values `passed` or `failed`. 

Used by [](gen_dbt_cwl).


Usage
-----

    python -m dorieh.platform.dbt.dbt_runner [-h] --script SCRIPT [SCRIPT ...]
        [--autocommit] [--db DB] [--connection CONNECTION]
        [--verbose] [--table TABLE]

Options:


| Option                        | Alias                          | Description                                                                                     |
|-------------------------------|--------------------------------|-------------------------------------------------------------------------------------------------|
| `--help`                      | `-h`                           | Show this help message and exit                                                                 |
| `--script SCRIPT [SCRIPT...]` | `-s SCRIPT [SCRIPT...]`        | Path to the file(s) containing test scripts to execute                                          |
| `--autocommit`                |                                | Use autocommit, default: False                                                                  |
| `--database DB`               | `--db DB`                      | Path to a database connection parameters file, default: database.ini (in the working directory) |
| `--connection CONNECTION`     | `--connection_name CONNECTION` | Section in the database connection parameters file                                              |
| `--table TABLE`               | `-t TABLE`                     | Name of the table to test, default: None                                                        |
| `--verbose`                   |                                | Verbose output, default: False                                                                  |


 


Details
-------


```{automodule}  dorieh.platform.dbt.dbt_runner
:members:
:undoc-members:
```



